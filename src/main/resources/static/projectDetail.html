<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>프로젝트 상세 페이지</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
          rel="stylesheet"/>
    <script defer src="/js/projectDetail.js"></script>
    <style>
        body {
            background: #f8fafc;
            font-family: 'Noto Sans KR', sans-serif;
        }

        .detail-container {
            display: flex;
            gap: 2rem;
            padding: 2rem 4rem;
            align-items: flex-start;
        }

        .content {
            flex: 3;
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.08);
        }

        .content img {
            width: 100%;
            border-radius: 8px;
            margin-bottom: 1.5rem;
        }

        .reward-box {
            flex: 1;
            position: sticky;
            top: 100px;
            align-self: flex-start;
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.08);
            max-height: 600px;
            display: flex;
            flex-direction: column;
        }

        .reward-list {
            flex-grow: 1;
            overflow-y: auto;
        }

        .reward-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            transition: transform 0.1s ease;
        }

        .reward-item:hover {
            transform: scale(1.02);
        }
    </style>
</head>

<body>
<!-- 상단 네비게이션 -->
<nav class="bg-blue-500 p-4">
    <div class="container mx-auto flex justify-between">
        <a href="/home.html" class="text-white text-lg font-bold">← 홈으로</a>
        <a href="/login.html" class="text-white px-4">로그인</a>
    </div>
</nav>

<!-- 메인 상세 페이지 -->
<div class="detail-container">
    <!-- 왼쪽: 프로젝트 상세 내용 -->
    <div class="content">
        <h1 id="projectTitle" class="text-3xl font-bold mb-4"></h1>

        <!-- 카테고리 및 일정 -->
        <div class="text-gray-600 mb-4">
            <p>카테고리: <span id="projectCategory"></span></p>
            <p>펀딩 일정: <span id="fundingSchedule"></span></p>
            <p>예상 전달일: <span id="expectedDeliveryDate"></span></p>
        </div>

        <!-- 이미지 리스트 -->
        <div id="imageList" class="flex flex-wrap gap-4 mb-6"></div>

        <!-- 프로젝트 본문 -->
        <div id="projectContents" class="text-gray-800 leading-relaxed mb-6"></div>

        <!-- 제작자 소개 -->
        <div class="border-t pt-4">
            <h3 class="text-xl font-semibold mb-2">제작자 소개</h3>
            <p id="creatorIntroduce" class="text-gray-700"></p>
        </div>
    </div>

    <!-- 오른쪽: 리워드 박스 -->
    <aside class="reward-box">
        <h2 class="text-xl font-bold mb-4">리워드</h2>
        <div id="rewardList" class="reward-list">
            <!-- JS에서 리워드 자동 렌더링 -->
        </div>
    </aside>
</div>

<script>
    // 리워드 스크롤 제한 처리 (JS에서 렌더링 후에도 적용되도록)
    const observer = new MutationObserver(() => {
        const list = document.getElementById("rewardList");
        if (!list) return;

        const rewardCount = list.children.length;
        list.style.overflowY = rewardCount > 5 ? "auto" : "visible";
    });

    observer.observe(document.body, {childList: true, subtree: true});
</script>

<footer class="bg-blue-500 text-white text-center py-4 mt-auto">
    <div class="container mx-auto">
        &copy; 2025 Funding Market. All rights reserved.
    </div>
</footer>
</body>
</html>
